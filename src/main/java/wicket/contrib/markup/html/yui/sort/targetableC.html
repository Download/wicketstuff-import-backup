<!doctype html public "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<head>
<title>Drag and Drop</title>
<link rel="stylesheet" type="text/css">
</head>
<style type="text/css">
    .slot { border:2px solid #aaaaaa; background-color:#dddddd; color:#666666; text-align:center; position: absolute; width:60px; height:60px; }
    .player { border:2px solid #bbbbbb; color:#eeeeee; text-align:center; position: absolute; width:60px; height:60px; }
    .target { border:2px solid #574188; background-color:#cccccc; text-align:center; position: absolute; width:60px; height:60px; }

    #t1 { left: 164px; top: 110px; }
    #t2 { left: 238px; top: 110px; }
    #t3 { left: 312px; top: 110px; }
    #t4 { left: 386px; top: 110px; }

    #b1 { left: 164px; top: 350px; }
    #b2 { left: 238px; top: 350px; }
    #b3 { left: 312px; top: 350px; }
    #b4 { left: 386px; top: 350px; }
    
    #p1 { background-color:#FFDDDF; left: 164px; top: 350px; }
    #p2 { background-color:#FFAAFA; left: 238px; top: 350px; }
    #p3 { background-color:#FFBFBB; left: 312px; top: 350px; }
    #p4 { background-color:#FFFCCC; left: 386px; top: 350px; }
</style>
  
<script type="text/javascript" src="../../build/yahoo/yahoo.js" ></script>
<script type="text/javascript" src="../../build/event/event.js" ></script>
<script type="text/javascript" src="../../build/dom/dom.js"></script>
<script type="text/javascript" src="../../build/logger/logger.js"></script>
<script type="text/javascript" src="../../build/dragdrop/dragdrop-debug.js" ></script>
<script type="text/javascript" src="js/DDPlayer.js" ></script>
<script type="text/javascript">

var targetSlot = ["empty", "empty", "empty", "empty"];
var targetSlotId = ["t1","t2","t3","t4"];

var Event = YAHOO.util.Event;
var DDM = YAHOO.util.DDM;
DDM.mode = "Point";

function fn_init(){	
	slots1 = new YAHOO.util.DDTarget("b1", "bottomslots");
	slots2 = new YAHOO.util.DDTarget("b2", "bottomslots");
	slots3 = new YAHOO.util.DDTarget("b3", "bottomslots");
	slots4 = new YAHOO.util.DDTarget("b4", "bottomslots");

	slots1T = new YAHOO.util.DDTarget("t1", "topslots");
	slots2T = new YAHOO.util.DDTarget("t2", "topslots");
	slots3T = new YAHOO.util.DDTarget("t3", "topslots");
	slots4T = new YAHOO.util.DDTarget("t4", "topslots");
  
	players1 = new YAHOO.example.DDPlayer("p1", "bottomslots");
	players1.addToGroup("topslots");
	players2 = new YAHOO.example.DDPlayer("p2", "bottomslots");
	players2.addToGroup("topslots");
	players3 = new YAHOO.example.DDPlayer("p3", "bottomslots");
	players3.addToGroup("topslots");	
	players4 = new YAHOO.example.DDPlayer("p4", "bottomslots");
	players4.addToGroup("topslots");

	players1.onDragOver = function (e, id){
		document.getElementById("drag").value = this.getEl().id;
		document.getElementById("target").value = YAHOO.util.DDM.getBestMatch(id).getEl().id;	
	}
	players1.endDrag = function (e){
		isDragging= false;
		var dragElement = document.getElementById("drag").value;
		var targetSlot = document.getElementById("target").value;
	} 

	players2.onDragOver = function (e, id){
		document.getElementById("drag").value = this.getEl().id;
		document.getElementById("target").value = YAHOO.util.DDM.getBestMatch(id).getEl().id;	
	}
	players2.endDrag = function (e){
		var dragElement = document.getElementById("drag").value;
		var targetSlot = document.getElementById("target").value;
	}

	players3.onDragOver = function (e, id){
		document.getElementById("drag").value = this.getEl().id;
		document.getElementById("target").value = YAHOO.util.DDM.getBestMatch(id).getEl().id;	
	}
	players3.endDrag = function (e){
		var dragElement = document.getElementById("drag").value;
		var targetSlot = document.getElementById("target").value;	
	}

	players4.onDragOver = function (e, id){
		document.getElementById("drag").value = this.getEl().id;
		document.getElementById("target").value = YAHOO.util.DDM.getBestMatch(id).getEl().id;
	}
	players4.endDrag = function (e){
		var dragElement = document.getElementById("drag").value;
		var targetSlot = document.getElementById("target").value;	
	}
}

YAHOO.util.Event.addListener(window, "load", fn_init);

</script>

<body>
<div id="main">

<div class="slot" id="t1"></div>
<div class="slot" id="t2"></div>
<div class="slot" id="t3"></div>
<div class="slot" id="t4"></div>

<div class="slot" id="b1"></div>
<div class="slot" id="b2"></div>
<div class="slot" id="b3"></div>
<div class="slot" id="b4"></div>

<div class="player" id="p1">1</div>
<div class="player" id="p2">2</div>
<div class="player" id="p3">3</div>
<div class="player" id="p4">4</div>

Drag Element <input type="text" id="drag" size="25"></input>
Slot Element <input type="text" id="target" size="25"></input>

</body>
</html>
