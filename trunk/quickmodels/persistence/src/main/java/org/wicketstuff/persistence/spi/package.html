<!-- 
Licensed under the Apache License, Version 2.0 (the "License"); you may not
use this file except in compliance with the License. You may obtain a copy of
the License at
http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
License for the specific language governing permissions and limitations under
the License.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body>
  This package contains the SPI (Service Provider Interface) for implementations
  of databases.  To implement support for a database, simply implement
  <code><a href="DbImplementation.html">DbImplementation</a></code> and
  <code><a href="PersistenceUtils.html">PersistenceUtils</a></code>.
  <p/>
  Databases which which to provide custom functionality implement
  the <code><a href="CapabilityProvider.html">CapabilityProvider</a></code>
  interface on their implementation of <code>DbImplementation</code>, provide
  their own API, and provide instances of the classes in that API from the
  <code>getCapability()</code> method.
  <p/>
  For example, an implementation might want to provide a facility for making
  a database backup.  So it provides its own API class:
  <pre>
      package com.foo.database;
      public interface Backup {
        public void backup (File file) throws IOException;
      }
  </pre>
  and then override <code>getCapability()</code> as follows:
  <pre>
      public <T> T getCapability (Class<T> clazz) {
          if (Backup.class.equals(clazz)) {
            return new MyBackupImplementation();
          }
          return null;
      }
  </pre>
  Applications should generally not call classes in this package, but rather
  work with the API and the final Db class.

  <h2>About Object Identity</h2>
  This library does not currently specify whether the same query should try to
  return the same object instance.  Implementations may either return an existing
  instance or a new instance.  POJOs should be written to correctly implement
  equals() and hashCode() such that this does not cause problems.
  </body>
</html>
